<%- include('page_header',{title: 'Hồ sơ'}) %>


<div class="card">
    <div class="card-header">
        Thông tin
    </div>
    <div class="card-body">
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" id="profileTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="personal-info-tab" data-toggle="tab" href="#personal-info" role="tab"
                   aria-controls="personal-info" aria-selected="true">Thông tin cá nhân</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="photo-tab" data-toggle="tab" href="#photo" role="tab" aria-controls="photo"
                   aria-selected="false">Ảnh đại diện</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content mt-3">
            <!-- Tab Thông tin cá nhân -->
            <div class="tab-pane fade show active" id="personal-info" role="tabpanel"
                 aria-labelledby="personal-info-tab">
                <form action="/update-profile" method="POST">
                    <div class="form-group">
                        <label for="name">Tên:</label>
                        <input type="text" class="form-control" id="name" name="name" value="<%= profile.name %>"
                               required>
                    </div>
                    <div class="form-group">
                        <label for="gender">Giới tính:</label>
                        <select class="form-control" id="gender" name="gender">
                            <option value="male" <%= profile.gender === 'male' ? 'selected' : '' %>>Nam</option>
                            <option value="female" <%= profile.gender === 'female' ? 'selected' : '' %>>Nữ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="phone">Số điện thoại:</label>
                        <input type="text" class="form-control" id="phone" name="phone" value="<%= profile.phone %>">
                    </div>
                    <button type="submit" class="btn btn-primary">Cập nhật thông tin</button>
                </form>
            </div>

            <!-- Tab Ảnh đại diện -->
            <div class="tab-pane fade" id="photo" role="tabpanel" aria-labelledby="photo-tab">
                <form action="/update-photo" method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="photo">Ảnh đại diện:</label>
                        <input type="file" class="form-control-file" id="photo" name="photo" accept="image/*">
                        <% if (profile.photo) { %>
                            <img src="<%= profile.photo %>" alt="Avatar" class="img-thumbnail mt-2"
                                 style="width: 150px;">
                        <% } %>
                    </div>
                    <button type="submit" class="btn btn-primary">Cập nhật ảnh</button>
                </form>
            </div>
        </div>
    </div>
</div>
